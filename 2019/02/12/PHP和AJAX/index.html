<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">

    

    
    <title>PHP和AJAX | 陈义的个人博客</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
        <meta name="keywords" content="PHP">
    
    <meta name="description" content="不存在什么 AJAX 服务器。AJAX 是一种在浏览器运行的技术。它使用浏览器与 web 服务器之间的异步数据传输，使网页从服务器请求少量的信息，而不是整张页面。AJAX 是一种独立于 web 服务器软件的 web 浏览器技术。了解AJAX移步这里但是，在文中，将集中在运行在 PHP 服务器上的实际案例即服务器脚本我们将采用 PHP 来编写。，而不是 AJAX 的工作原理。 AJAX 数据库实例下">
<meta name="keywords" content="PHP">
<meta property="og:type" content="article">
<meta property="og:title" content="PHP和AJAX">
<meta property="og:url" content="http://yoursite.com/2019/02/12/PHP和AJAX/index.html">
<meta property="og:site_name" content="陈义的个人博客">
<meta property="og:description" content="不存在什么 AJAX 服务器。AJAX 是一种在浏览器运行的技术。它使用浏览器与 web 服务器之间的异步数据传输，使网页从服务器请求少量的信息，而不是整张页面。AJAX 是一种独立于 web 服务器软件的 web 浏览器技术。了解AJAX移步这里但是，在文中，将集中在运行在 PHP 服务器上的实际案例即服务器脚本我们将采用 PHP 来编写。，而不是 AJAX 的工作原理。 AJAX 数据库实例下">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http://yoursite.com/2019/02/12/PHP和AJAX/31627.png">
<meta property="og:updated_time" content="2019-02-12T05:17:06.083Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="PHP和AJAX">
<meta name="twitter:description" content="不存在什么 AJAX 服务器。AJAX 是一种在浏览器运行的技术。它使用浏览器与 web 服务器之间的异步数据传输，使网页从服务器请求少量的信息，而不是整张页面。AJAX 是一种独立于 web 服务器软件的 web 浏览器技术。了解AJAX移步这里但是，在文中，将集中在运行在 PHP 服务器上的实际案例即服务器脚本我们将采用 PHP 来编写。，而不是 AJAX 的工作原理。 AJAX 数据库实例下">
<meta name="twitter:image" content="http://yoursite.com/2019/02/12/PHP和AJAX/31627.png">
    

    
        <link rel="alternate" href="/" title="陈义的个人博客" type="application/atom+xml">
    

    

    <link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/libs/titillium-web/styles.css">
    <link rel="stylesheet" href="/libs/source-code-pro/styles.css">

    <link rel="stylesheet" href="/css/style.css">

    <script src="/libs/jquery/3.3.1/jquery.min.js"></script>
    
    
        <link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">
    
    
        <link rel="stylesheet" href="/libs/justified-gallery/justifiedGallery.min.css">
    
    
    


</head>
</html>
<body>
    <div id="wrap">
        <header id="header">
    <div id="header-outer" class="outer">
        <div class="container">
            <div class="container-inner">
                <div id="header-title">
                    <h1 class="logo-wrap">
                        <a href="/" class="logo"></a>
                    </h1>
                    
                        <h2 class="subtitle-wrap">
                            <p class="subtitle">学而不思则罔，思而不学则殆</p>
                        </h2>
                    
                </div>
                <div id="header-inner" class="nav-container">
                    <a id="main-nav-toggle" class="nav-icon fa fa-bars"></a>
                    <div class="nav-container-inner">
                        <ul id="main-nav">
                            
                                <li class="main-nav-list-item">
                                    <a class="main-nav-list-link" href="/">主页</a>
                                </li>
                            
                                        <ul class="main-nav-list"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/遥感/">遥感</a></li></ul>
                                    
                                <li class="main-nav-list-item">
                                    <a class="main-nav-list-link" href="/about/index.html">关于</a>
                                </li>
                            
                        </ul>
                        <nav id="sub-nav">
                            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="搜索">
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="想要查找什么...">
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(未命名)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>
        <div class="container">
            <div class="main-body container-inner">
                <div class="main-body-inner">
                    <section id="main">
                        <div class="main-body-header">
    <h1 class="header">
    
    未分类
    </h1>
</div>

                        <div class="main-body-content">
                            <article id="post-PHP和AJAX" class="article article-single article-type-post" itemscope="" itemprop="blogPost">
    <div class="article-inner">
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
        PHP和AJAX
        </h1>
    

            </header>
        
        
            <div class="article-meta">
                
    <div class="article-date">
        <a href="/2019/02/12/PHP和AJAX/" class="article-date">
            <time datetime="2019-02-12T02:27:54.000Z" itemprop="datePublished">2019-02-12</time>
        </a>
    </div>

		

                
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/PHP/">PHP</a>
    </div>

            </div>
        
        
        <div class="article-entry" itemprop="articleBody">
            <p><strong>不存在什么 AJAX 服务器。</strong><br>AJAX 是一种在浏览器运行的技术。它使用浏览器与 web 服务器之间的异步数据传输，使网页从服务器请求少量的信息，而不是整张页面。<br>AJAX 是一种独立于 web 服务器软件的 web 浏览器技术。<br>了解AJAX移步<a href="https://cyfrangk.github.io/2019/01/23/ajax%E4%B8%93%E9%A2%98/" target="_blank" rel="noopener">这里</a><br>但是，在文中，将集中在运行在 PHP 服务器上的实际案例即<strong>服务器脚本我们将采用 PHP 来编写</strong>。，而<strong>不是</strong> AJAX 的工作原理。<br><img src="/2019/02/12/PHP和AJAX/31627.png" alt=""></p>
<h2 id="AJAX-数据库实例"><a href="#AJAX-数据库实例" class="headerlink" title="AJAX 数据库实例"></a>AJAX 数据库实例</h2><p>下面的实例将演示网页如何通过 AJAX 从数据库读取信息<br><img src="/2019/02/12/PHP和AJAX/2048.png" alt=""><br><strong>实例解释 - MySQL 数据库</strong><br>在上面的实例中，我们使用的数据库表如下所示：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from websites;</span><br><span class="line">+----+--------------+---------------------------+-------+---------+</span><br><span class="line">| id | name         | url                       | alexa | country |</span><br><span class="line">+----+--------------+---------------------------+-------+---------+</span><br><span class="line">| 1  | Google       | https://www.google.cm/    | 1     | USA     |</span><br><span class="line">| 2  | 淘宝       | https://www.taobao.com/   | 13    | CN      |</span><br><span class="line">| 3  | 微博       | http://weibo.com/         | 20    | CN      |</span><br><span class="line">| 4  | Facebook     | https://www.facebook.com/ | 3     | USA     |</span><br><span class="line">+----+--------------+---------------------------+-------+---------+</span><br><span class="line">4 rows in set (0.01 sec)</span><br></pre></td></tr></table></figure></p>
<p><strong>实例解释 - HTML 页面</strong><br>当用户在上面的下拉列表中选择某位用户时，会执行名为 “showSite()” 的函数。该函数由 “onchange” 事件触发：<br>test.html 文件代码:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt; </span><br><span class="line">&lt;html&gt; </span><br><span class="line">&lt;head&gt; </span><br><span class="line">&lt;meta charset=&quot;utf-8&quot;&gt; </span><br><span class="line">&lt;script&gt;</span><br><span class="line">function showSite(str)</span><br><span class="line">&#123;</span><br><span class="line">    if (str==&quot;&quot;)</span><br><span class="line">    &#123;</span><br><span class="line">        document.getElementById(&quot;txtHint&quot;).innerHTML=&quot;&quot;;</span><br><span class="line">        return;</span><br><span class="line">    &#125; </span><br><span class="line">	</span><br><span class="line">    if (window.XMLHttpRequest)</span><br><span class="line">    &#123;</span><br><span class="line">        // IE7+, Firefox, Chrome, Opera, Safari 浏览器执行代码</span><br><span class="line">        xmlhttp=new XMLHttpRequest();</span><br><span class="line">    &#125;</span><br><span class="line">    else</span><br><span class="line">    &#123;</span><br><span class="line">        // IE6, IE5 浏览器执行代码</span><br><span class="line">        xmlhttp=new ActiveXObject(&quot;Microsoft.XMLHTTP&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">	</span><br><span class="line">    xmlhttp.onreadystatechange=function()</span><br><span class="line">    &#123;</span><br><span class="line">        if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200)</span><br><span class="line">        &#123;</span><br><span class="line">            document.getElementById(&quot;txtHint&quot;).innerHTML=xmlhttp.responseText;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    xmlhttp.open(&quot;GET&quot;,&quot;getsite_mysql.php?q=&quot;+str,true);</span><br><span class="line">    xmlhttp.send();</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"> </span><br><span class="line">&lt;form&gt;</span><br><span class="line">&lt;select name=&quot;users&quot; onchange=&quot;showSite(this.value)&quot;&gt;</span><br><span class="line">&lt;option value=&quot;&quot;&gt;选择一个网站:&lt;/option&gt;</span><br><span class="line">&lt;option value=&quot;1&quot;&gt;Google&lt;/option&gt;</span><br><span class="line">&lt;option value=&quot;2&quot;&gt;淘宝&lt;/option&gt;</span><br><span class="line">&lt;option value=&quot;3&quot;&gt;微博&lt;/option&gt;</span><br><span class="line">&lt;option value=&quot;4&quot;&gt;Facebook&lt;/option&gt;</span><br><span class="line">&lt;/select&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;br&gt;</span><br><span class="line">&lt;div id=&quot;txtHint&quot;&gt;&lt;b&gt;网站信息显示在这里……&lt;/b&gt;&lt;/div&gt;</span><br><span class="line"> </span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p>
<p>showSite() 函数会执行以下步骤：</p>
<ul>
<li>检查是否有网站被选择</li>
<li>创建 XMLHttpRequest 对象</li>
<li>创建在服务器响应就绪时执行的函数</li>
<li>向服务器上的文件发送请求</li>
<li>请注意添加到 URL 末端的参数（q）（包含下拉列表的内容）</li>
</ul>
<p><strong>PHP 文件</strong><br>上面这段通过 JavaScript 调用的服务器页面是名为 “getsite_mysql.php” 的 PHP 文件。<br>“getsite_mysql.php” 中的源代码会运行一次针对 MySQL 数据库的查询，然后在 HTML 表格中返回结果：<br>getsite_mysql.php 文件代码:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$q = isset($_GET[&quot;q&quot;]) ? intval($_GET[&quot;q&quot;]) : &apos;&apos;;</span><br><span class="line"> </span><br><span class="line">if(empty($q)) &#123;</span><br><span class="line">    echo &apos;请选择一个网站&apos;;</span><br><span class="line">    exit;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">$con = mysqli_connect(&apos;localhost&apos;,&apos;root&apos;,&apos;123456&apos;);</span><br><span class="line">if (!$con)</span><br><span class="line">&#123;</span><br><span class="line">    die(&apos;Could not connect: &apos; . mysqli_error($con));</span><br><span class="line">&#125;</span><br><span class="line">// 选择数据库</span><br><span class="line">mysqli_select_db($con,&quot;test&quot;);</span><br><span class="line">// 设置编码，防止中文乱码</span><br><span class="line">mysqli_set_charset($con, &quot;utf8&quot;);</span><br><span class="line"> </span><br><span class="line">$sql=&quot;SELECT * FROM Websites WHERE id = &apos;&quot;.$q.&quot;&apos;&quot;;</span><br><span class="line"> </span><br><span class="line">$result = mysqli_query($con,$sql);</span><br><span class="line"> </span><br><span class="line">echo &quot;&lt;table border=&apos;1&apos;&gt;</span><br><span class="line">&lt;tr&gt;</span><br><span class="line">&lt;th&gt;ID&lt;/th&gt;</span><br><span class="line">&lt;th&gt;网站名&lt;/th&gt;</span><br><span class="line">&lt;th&gt;网站 URL&lt;/th&gt;</span><br><span class="line">&lt;th&gt;Alexa 排名&lt;/th&gt;</span><br><span class="line">&lt;th&gt;国家&lt;/th&gt;</span><br><span class="line">&lt;/tr&gt;&quot;;</span><br><span class="line"> </span><br><span class="line">while($row = mysqli_fetch_array($result))</span><br><span class="line">&#123;</span><br><span class="line">    echo &quot;&lt;tr&gt;&quot;;</span><br><span class="line">    echo &quot;&lt;td&gt;&quot; . $row[&apos;id&apos;] . &quot;&lt;/td&gt;&quot;;</span><br><span class="line">    echo &quot;&lt;td&gt;&quot; . $row[&apos;name&apos;] . &quot;&lt;/td&gt;&quot;;</span><br><span class="line">    echo &quot;&lt;td&gt;&quot; . $row[&apos;url&apos;] . &quot;&lt;/td&gt;&quot;;</span><br><span class="line">    echo &quot;&lt;td&gt;&quot; . $row[&apos;alexa&apos;] . &quot;&lt;/td&gt;&quot;;</span><br><span class="line">    echo &quot;&lt;td&gt;&quot; . $row[&apos;country&apos;] . &quot;&lt;/td&gt;&quot;;</span><br><span class="line">    echo &quot;&lt;/tr&gt;&quot;;</span><br><span class="line">&#125;</span><br><span class="line">echo &quot;&lt;/table&gt;&quot;;</span><br><span class="line"> </span><br><span class="line">mysqli_close($con);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure></p>
<p>解释：当查询从 JavaScript 发送到 PHP 文件时，将发生：</p>
<p>1.PHP 打开一个到 MySQL 数据库的连接<br>2.找到选中的用户<br>3.创建 HTML 表格，填充数据，并发送回 “txtHint” 占位符</p>
<h2 id="AJAX-XML-实例"><a href="#AJAX-XML-实例" class="headerlink" title="AJAX XML 实例"></a>AJAX XML 实例</h2><p>下面的实例将演示网页如何通过 AJAX 从 XML 文件读取信息：<br><img src="/2019/02/12/PHP和AJAX/3713.png" alt=""><br><strong>实例解释 - HTML 页面</strong><br>当用户在上面的下拉列表中选择某张 CD 时，会执行名为 “showCD()” 的函数。该函数由 “onchange” 事件触发：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">function showCD(str)</span><br><span class="line">&#123;</span><br><span class="line">    if (str==&quot;&quot;)</span><br><span class="line">    &#123;</span><br><span class="line">        document.getElementById(&quot;txtHint&quot;).innerHTML=&quot;&quot;;</span><br><span class="line">        return;</span><br><span class="line">    &#125; </span><br><span class="line">    if (window.XMLHttpRequest)</span><br><span class="line">    &#123;</span><br><span class="line">        // IE7+, Firefox, Chrome, Opera, Safari 浏览器执行</span><br><span class="line">        xmlhttp=new XMLHttpRequest();</span><br><span class="line">    &#125;</span><br><span class="line">    else</span><br><span class="line">    &#123;</span><br><span class="line">        // IE6, IE5 浏览器执行</span><br><span class="line">        xmlhttp=new ActiveXObject(&quot;Microsoft.XMLHTTP&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    xmlhttp.onreadystatechange=function()</span><br><span class="line">    &#123;</span><br><span class="line">        if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200)</span><br><span class="line">        &#123;</span><br><span class="line">            document.getElementById(&quot;txtHint&quot;).innerHTML=xmlhttp.responseText;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    xmlhttp.open(&quot;GET&quot;,&quot;getcd.php?q=&quot;+str,true);</span><br><span class="line">    xmlhttp.send();</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;form&gt;</span><br><span class="line">Select a CD:</span><br><span class="line">&lt;select name=&quot;cds&quot; onchange=&quot;showCD(this.value)&quot;&gt;</span><br><span class="line">&lt;option value=&quot;&quot;&gt;Select a CD:&lt;/option&gt;</span><br><span class="line">&lt;option value=&quot;Bob Dylan&quot;&gt;Bob Dylan&lt;/option&gt;</span><br><span class="line">&lt;option value=&quot;Bonnie Tyler&quot;&gt;Bonnie Tyler&lt;/option&gt;</span><br><span class="line">&lt;option value=&quot;Dolly Parton&quot;&gt;Dolly Parton&lt;/option&gt;</span><br><span class="line">&lt;/select&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;div id=&quot;txtHint&quot;&gt;&lt;b&gt;CD info will be listed here...&lt;/b&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p>
<p>showCD() 函数会执行以下步骤：</p>
<ul>
<li>检查是否有 CD 被选择</li>
<li>创建 XMLHttpRequest 对象</li>
<li>创建在服务器响应就绪时执行的函数</li>
<li>向服务器上的文件发送请求</li>
<li>请注意添加到 URL 末端的参数（q）（包含下拉列表的内容）</li>
</ul>
<p><strong>PHP 文件</strong><br>上面这段通过 JavaScript 调用的服务器页面是名为 “getcd.php” 的 PHP 文件。</p>
<p>PHP 脚本加载 XML 文档，”<a href="https://github.com/cyfrangk/myrepository/blob/master/cd_catalog.xml" target="_blank" rel="noopener">cd_catalog.xml</a>“，运行针对 XML 文件的查询，并以 HTML 返回结果：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$q=$_GET[&quot;q&quot;];</span><br><span class="line"></span><br><span class="line">$xmlDoc = new DOMDocument();</span><br><span class="line">$xmlDoc-&gt;load(&quot;https://github.com/cyfrangk/myrepository/blob/master/cd_catalog.xml&quot;);</span><br><span class="line"></span><br><span class="line">$x=$xmlDoc-&gt;getElementsByTagName(&apos;ARTIST&apos;);</span><br><span class="line"></span><br><span class="line">for ($i=0; $i&lt;=$x-&gt;length-1; $i++)</span><br><span class="line">&#123;</span><br><span class="line">    // 处理元素节点</span><br><span class="line">    if ($x-&gt;item($i)-&gt;nodeType==1)</span><br><span class="line">    &#123;</span><br><span class="line">        if ($x-&gt;item($i)-&gt;childNodes-&gt;item(0)-&gt;nodeValue == $q)</span><br><span class="line">        &#123;</span><br><span class="line">            $y=($x-&gt;item($i)-&gt;parentNode);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$cd=($y-&gt;childNodes);</span><br><span class="line"></span><br><span class="line">for ($i=0;$i&lt;$cd-&gt;length;$i++)</span><br><span class="line">&#123; </span><br><span class="line">    // 处理元素节点</span><br><span class="line">    if ($cd-&gt;item($i)-&gt;nodeType==1)</span><br><span class="line">    &#123;</span><br><span class="line">        echo(&quot;&lt;b&gt;&quot; . $cd-&gt;item($i)-&gt;nodeName . &quot;:&lt;/b&gt; &quot;);</span><br><span class="line">        echo($cd-&gt;item($i)-&gt;childNodes-&gt;item(0)-&gt;nodeValue);</span><br><span class="line">        echo(&quot;&lt;br&gt;&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure></p>
<p>当 CD 查询从 JavaScript 发送到 PHP 页面时，将发生：<br>1.PHP 创建 XML DOM 对象<br>2.查找所有 <artist> 元素中与 JavaScript 所传数据相匹配的名字<br>3.输出 album 的信息，并发送回 “txtHint” 占位符</artist></p>
<h2 id="AJAX-实时搜索"><a href="#AJAX-实时搜索" class="headerlink" title="AJAX 实时搜索"></a>AJAX 实时搜索</h2><p>在下面的实例中，我们将演示一个实时的搜索，在您键入数据的同时即可得到搜索结果。</p>
<p>实时的搜索与传统的搜索相比，具有很多优势：</p>
<ul>
<li>当键入数据时，就会显示出匹配的结果</li>
<li>当继续键入数据时，对结果进行过滤</li>
<li>如果结果太少，删除字符就可以获得更宽的范围</li>
</ul>
<p>实例中的结果在一个 XML 文件（<a href="https://github.com/cyfrangk/myrepository/tree/master" target="_blank" rel="noopener">links.xml</a>）中进行查找。<br><strong>实例解释 - HTML 页面</strong><br>当用户在上面的输入框中键入字符时，会执行 “showResult()” 函数。该函数由 “onkeyup” 事件触发：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">function showResult(str)</span><br><span class="line">&#123;</span><br><span class="line">    if (str.length==0)</span><br><span class="line">    &#123; </span><br><span class="line">        document.getElementById(&quot;livesearch&quot;).innerHTML=&quot;&quot;;</span><br><span class="line">        document.getElementById(&quot;livesearch&quot;).style.border=&quot;0px&quot;;</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    if (window.XMLHttpRequest)</span><br><span class="line">    &#123;// IE7+, Firefox, Chrome, Opera, Safari 浏览器执行</span><br><span class="line">        xmlhttp=new XMLHttpRequest();</span><br><span class="line">    &#125;</span><br><span class="line">    else</span><br><span class="line">    &#123;// IE6, IE5 浏览器执行</span><br><span class="line">        xmlhttp=new ActiveXObject(&quot;Microsoft.XMLHTTP&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    xmlhttp.onreadystatechange=function()</span><br><span class="line">    &#123;</span><br><span class="line">        if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200)</span><br><span class="line">        &#123;</span><br><span class="line">            document.getElementById(&quot;livesearch&quot;).innerHTML=xmlhttp.responseText;</span><br><span class="line">            document.getElementById(&quot;livesearch&quot;).style.border=&quot;1px solid #A5ACB2&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    xmlhttp.open(&quot;GET&quot;,&quot;livesearch.php?q=&quot;+str,true);</span><br><span class="line">    xmlhttp.send();</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;form&gt;</span><br><span class="line">&lt;input type=&quot;text&quot; size=&quot;30&quot; onkeyup=&quot;showResult(this.value)&quot;&gt;</span><br><span class="line">&lt;div id=&quot;livesearch&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p>
<p>源代码解释：<br>如果输入框是空的（str.length==0），该函数会清空 livesearch 占位符的内容，并退出该函数。<br>如果输入框不是空的，那么 showResult() 会执行以下步骤：</p>
<ul>
<li>创建 XMLHttpRequest 对象</li>
<li>创建在服务器响应就绪时执行的函数</li>
<li>向服务器上的文件发送请求</li>
<li>请注意添加到 URL 末端的参数（q）（包含输入框的内容）</li>
</ul>
<p><strong>PHP 文件</strong><br>上面这段通过 JavaScript 调用的服务器页面是名为 “livesearch.php” 的 PHP 文件。<br>“livesearch.php” 中的源代码会搜索 XML 文件中匹配搜索字符串的标题，并返回结果：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$xmlDoc=new DOMDocument();</span><br><span class="line">$xmlDoc-&gt;load(&quot;https://github.com/cyfrangk/myrepository/tree/master/links.xml&quot;);</span><br><span class="line"></span><br><span class="line">$x=$xmlDoc-&gt;getElementsByTagName(&apos;link&apos;);</span><br><span class="line"></span><br><span class="line">// 从 URL 中获取参数 q 的值</span><br><span class="line">$q=$_GET[&quot;q&quot;];</span><br><span class="line"></span><br><span class="line">// 如果 q 参数存在则从 xml 文件中查找数据</span><br><span class="line">if (strlen($q)&gt;0)</span><br><span class="line">&#123;</span><br><span class="line">    $hint=&quot;&quot;;</span><br><span class="line">    for($i=0; $i&lt;($x-&gt;length); $i++)</span><br><span class="line">    &#123;</span><br><span class="line">        $y=$x-&gt;item($i)-&gt;getElementsByTagName(&apos;title&apos;);</span><br><span class="line">        $z=$x-&gt;item($i)-&gt;getElementsByTagName(&apos;url&apos;);</span><br><span class="line">        if ($y-&gt;item(0)-&gt;nodeType==1)</span><br><span class="line">        &#123;</span><br><span class="line">            // 找到匹配搜索的链接</span><br><span class="line">            if (stristr($y-&gt;item(0)-&gt;childNodes-&gt;item(0)-&gt;nodeValue,$q))</span><br><span class="line">            &#123;</span><br><span class="line">                if ($hint==&quot;&quot;)</span><br><span class="line">                &#123;</span><br><span class="line">                    $hint=&quot;&lt;a href=&apos;&quot; . </span><br><span class="line">                    $z-&gt;item(0)-&gt;childNodes-&gt;item(0)-&gt;nodeValue . </span><br><span class="line">                    &quot;&apos; target=&apos;_blank&apos;&gt;&quot; . </span><br><span class="line">                    $y-&gt;item(0)-&gt;childNodes-&gt;item(0)-&gt;nodeValue . &quot;&lt;/a&gt;&quot;;</span><br><span class="line">                &#125;</span><br><span class="line">                else</span><br><span class="line">                &#123;</span><br><span class="line">                    $hint=$hint . &quot;&lt;br /&gt;&lt;a href=&apos;&quot; . </span><br><span class="line">                    $z-&gt;item(0)-&gt;childNodes-&gt;item(0)-&gt;nodeValue . </span><br><span class="line">                    &quot;&apos; target=&apos;_blank&apos;&gt;&quot; . </span><br><span class="line">                    $y-&gt;item(0)-&gt;childNodes-&gt;item(0)-&gt;nodeValue . &quot;&lt;/a&gt;&quot;;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 如果没找到则返回 &quot;no suggestion&quot;</span><br><span class="line">if ($hint==&quot;&quot;)</span><br><span class="line">&#123;</span><br><span class="line">    $response=&quot;no suggestion&quot;;</span><br><span class="line">&#125;</span><br><span class="line">else</span><br><span class="line">&#123;</span><br><span class="line">    $response=$hint;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 输出结果</span><br><span class="line">echo $response;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure></p>
<p>如果 JavaScript 发送了任何文本（即 strlen($q) &gt; 0），则会发生：<br>1.加载 XML 文件到新的 XML DOM 对象<br>2.遍历所有的 <title> 元素，以便找到匹配 JavaScript 所传文本<br>3.在 “$response” 变量中设置正确的 URL 和标题。如果找到多于一个匹配，所有的匹配都会添加到变量。<br>4.如果没有找到匹配，则把 $response 变量设置为 “no suggestion”。</title></p>
<h2 id="AJAX-RSS-阅读器"><a href="#AJAX-RSS-阅读器" class="headerlink" title="AJAX RSS 阅读器"></a>AJAX RSS 阅读器</h2><p>在下面的实例中，我们将演示一个 RSS 阅读器用于阅读 RSS Feed，通过它，来自 RSS 的内容在网页不进行刷新的情况下被载入</p>
<p><strong>实例解释 - HTML 页面</strong><br>当用户在上面的下拉列表中选择某个 RSS-feed 时，会执行名为 “showRSS()” 的函数。该函数由 “onchange” 事件触发：<br>实例<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;utf-8&quot;&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">function showRSS(str)</span><br><span class="line">&#123;</span><br><span class="line">    if (str.length==0)</span><br><span class="line">    &#123; </span><br><span class="line">        document.getElementById(&quot;rssOutput&quot;).innerHTML=&quot;&quot;;</span><br><span class="line">        return;</span><br><span class="line">        &#125;</span><br><span class="line">    if (window.XMLHttpRequest)</span><br><span class="line">    &#123;</span><br><span class="line">        // IE7+, Firefox, Chrome, Opera, Safari 浏览器执行代码</span><br><span class="line">        xmlhttp=new XMLHttpRequest();</span><br><span class="line">    &#125;</span><br><span class="line">    else</span><br><span class="line">    &#123;</span><br><span class="line">        // IE6, IE5 浏览器执行代码</span><br><span class="line">        xmlhttp=new ActiveXObject(&quot;Microsoft.XMLHTTP&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    xmlhttp.onreadystatechange=function()</span><br><span class="line">    &#123;</span><br><span class="line">        if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200)</span><br><span class="line">        &#123;</span><br><span class="line">            document.getElementById(&quot;rssOutput&quot;).innerHTML=xmlhttp.responseText;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    xmlhttp.open(&quot;GET&quot;,&quot;getrss.php?q=&quot;+str,true);</span><br><span class="line">    xmlhttp.send();</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"> </span><br><span class="line">&lt;form&gt;</span><br><span class="line">&lt;select onchange=&quot;showRSS(this.value)&quot;&gt;</span><br><span class="line">&lt;option value=&quot;&quot;&gt;选择一个 RSS-feed:&lt;/option&gt;</span><br><span class="line">&lt;option value=&quot;rss&quot;&gt;读取 RSS 数据&lt;/option&gt;</span><br><span class="line">&lt;/select&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;br&gt;</span><br><span class="line">&lt;div id=&quot;rssOutput&quot;&gt;RSS-feed 数据列表...&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p>
<p>showRSS() 函数会执行以下步骤：</p>
<ul>
<li>检查是否有 RSS-feed 被选择</li>
<li>创建 XMLHttpRequest 对象</li>
<li>创建在服务器响应就绪时执行的函数</li>
<li>向服务器上的文件发送请求</li>
<li>请注意添加到 URL 末端的参数（q）（包含下拉列表的内容）</li>
</ul>
<p><strong>PHP 文件</strong><br>文件 <a href="https://github.com/cyfrangk/myrepository/blob/master/rss_demo.xml" target="_blank" rel="noopener">rss_demo.xml</a>。<br>上面这段通过 JavaScript 调用的服务器页面是名为 “getrss.php” 的 PHP 文件：<br>实例<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">// rss 文件</span><br><span class="line">$xml=&quot;https://github.com/cyfrangk/myrepository/blob/master/rss_demo.xml&quot;;</span><br><span class="line"> </span><br><span class="line">$xmlDoc = new DOMDocument();</span><br><span class="line">$xmlDoc-&gt;load($xml);</span><br><span class="line"> </span><br><span class="line">// 从 &quot;&lt;channel&gt;&quot; 中读取元素</span><br><span class="line">$channel=$xmlDoc-&gt;getElementsByTagName(&apos;channel&apos;)-&gt;item(0);</span><br><span class="line">$channel_title = $channel-&gt;getElementsByTagName(&apos;title&apos;)</span><br><span class="line">-&gt;item(0)-&gt;childNodes-&gt;item(0)-&gt;nodeValue;</span><br><span class="line">$channel_link = $channel-&gt;getElementsByTagName(&apos;link&apos;)</span><br><span class="line">-&gt;item(0)-&gt;childNodes-&gt;item(0)-&gt;nodeValue;</span><br><span class="line">$channel_desc = $channel-&gt;getElementsByTagName(&apos;description&apos;)</span><br><span class="line">-&gt;item(0)-&gt;childNodes-&gt;item(0)-&gt;nodeValue;</span><br><span class="line"> </span><br><span class="line">// 输出 &quot;&lt;channel&gt;&quot; 中的元素</span><br><span class="line">echo(&quot;&lt;p&gt;&lt;a href=&apos;&quot; . $channel_link</span><br><span class="line">  . &quot;&apos;&gt;&quot; . $channel_title . &quot;&lt;/a&gt;&quot;);</span><br><span class="line">echo(&quot;&lt;br&gt;&quot;);</span><br><span class="line">echo($channel_desc . &quot;&lt;/p&gt;&quot;);</span><br><span class="line"> </span><br><span class="line">// 输出 &quot;&lt;item&gt;&quot; 中的元素</span><br><span class="line">$x=$xmlDoc-&gt;getElementsByTagName(&apos;item&apos;);</span><br><span class="line">for ($i=0; $i&lt;=1; $i++) &#123;</span><br><span class="line">    $item_title=$x-&gt;item($i)-&gt;getElementsByTagName(&apos;title&apos;)</span><br><span class="line">    -&gt;item(0)-&gt;childNodes-&gt;item(0)-&gt;nodeValue;</span><br><span class="line">    $item_link=$x-&gt;item($i)-&gt;getElementsByTagName(&apos;link&apos;)</span><br><span class="line">    -&gt;item(0)-&gt;childNodes-&gt;item(0)-&gt;nodeValue;</span><br><span class="line">    $item_desc=$x-&gt;item($i)-&gt;getElementsByTagName(&apos;description&apos;)</span><br><span class="line">    -&gt;item(0)-&gt;childNodes-&gt;item(0)-&gt;nodeValue;</span><br><span class="line">    echo (&quot;&lt;p&gt;&lt;a href=&apos;&quot; . $item_link</span><br><span class="line">    . &quot;&apos;&gt;&quot; . $item_title . &quot;&lt;/a&gt;&quot;);</span><br><span class="line">    echo (&quot;&lt;br&gt;&quot;);</span><br><span class="line">    echo ($item_desc . &quot;&lt;/p&gt;&quot;);</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure></p>
<p>当 RSS feed 的请求从 JavaScript 发送到 PHP 文件时，将发生：<br>1.检查哪个 RSS feed 被选中<br>2.创建一个新的 XML DOM 对象<br>3.在 xml 变量中加载 RSS 文档<br>4.从 channel 元素中提取并输出元素<br>5.从 item 元素中提取并输出元素</p>
<h2 id="AJAX-投票"><a href="#AJAX-投票" class="headerlink" title="AJAX 投票"></a>AJAX 投票</h2><p>在下面的实例中，我们将演示一个投票程序，通过它，投票结果在网页不进行刷新的情况下被显示<br><img src="/2019/02/12/PHP和AJAX/3557.png" alt=""><br><img src="/2019/02/12/PHP和AJAX/3618.png" alt=""></p>
<p><strong>实例解释 - HTML 页面</strong><br>当用户选择上面的某个选项时，会执行名为 “getVote()” 的函数。该函数由 “onclick” 事件触发。<br>poll.html 文件代码如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;utf-8&quot;&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">function getVote(int) &#123;</span><br><span class="line">  if (window.XMLHttpRequest) &#123;</span><br><span class="line">    // IE7+, Firefox, Chrome, Opera, Safari 执行代码</span><br><span class="line">    xmlhttp=new XMLHttpRequest();</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    // IE6, IE5 执行代码</span><br><span class="line">    xmlhttp=new ActiveXObject(&quot;Microsoft.XMLHTTP&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">  xmlhttp.onreadystatechange=function() &#123;</span><br><span class="line">  if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200)</span><br><span class="line">    &#123;</span><br><span class="line">      document.getElementById(&quot;poll&quot;).innerHTML=xmlhttp.responseText;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  xmlhttp.open(&quot;GET&quot;,&quot;poll_vote.php?vote=&quot;+int,true);</span><br><span class="line">  xmlhttp.send();</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;div id=&quot;poll&quot;&gt;</span><br><span class="line">&lt;h3&gt;你喜欢 PHP 和 AJAX 吗?&lt;/h3&gt;</span><br><span class="line">&lt;form&gt;</span><br><span class="line">是:</span><br><span class="line">&lt;input type=&quot;radio&quot; name=&quot;vote&quot; value=&quot;0&quot; onclick=&quot;getVote(this.value)&quot;&gt;</span><br><span class="line">&lt;br&gt;否:</span><br><span class="line">&lt;input type=&quot;radio&quot; name=&quot;vote&quot; value=&quot;1&quot; onclick=&quot;getVote(this.value)&quot;&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p>
<p>getVote() 函数会执行以下步骤：</p>
<ul>
<li>创建 XMLHttpRequest 对象</li>
<li>创建在服务器响应就绪时执行的函数</li>
<li>向服务器上的文件发送请求</li>
<li>请注意添加到 URL 末端的参数（q）（包含下拉列表的内容）</li>
</ul>
<p><strong>PHP 文件</strong><br>上面这段通过 JavaScript 调用的服务器页面是名为 “poll_vote.php” 的 PHP 文件：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$vote = htmlspecialchars($_REQUEST[&apos;vote&apos;]);</span><br><span class="line"></span><br><span class="line">// 获取文件中存储的数据</span><br><span class="line">$filename = &quot;poll_result.txt&quot;;</span><br><span class="line">$content = file($filename);</span><br><span class="line"></span><br><span class="line">// 将数据分割到数组中</span><br><span class="line">$array = explode(&quot;||&quot;, $content[0]);</span><br><span class="line">$yes = $array[0];</span><br><span class="line">$no = $array[1];</span><br><span class="line"></span><br><span class="line">if ($vote == 0)</span><br><span class="line">&#123;</span><br><span class="line">  $yes = $yes + 1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">if ($vote == 1)</span><br><span class="line">&#123;</span><br><span class="line">  $no = $no + 1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 插入投票数据</span><br><span class="line">$insertvote = $yes.&quot;||&quot;.$no;</span><br><span class="line">$fp = fopen($filename,&quot;w&quot;);</span><br><span class="line">fputs($fp,$insertvote);</span><br><span class="line">fclose($fp);</span><br><span class="line">?&gt;</span><br><span class="line"></span><br><span class="line">&lt;h2&gt;结果:&lt;/h2&gt;</span><br><span class="line">&lt;table&gt;</span><br><span class="line">  &lt;tr&gt;</span><br><span class="line">  &lt;td&gt;是:&lt;/td&gt;</span><br><span class="line">  &lt;td&gt;</span><br><span class="line">  &lt;span style=&quot;display: inline-block; background-color:green;</span><br><span class="line">      width:&lt;?php echo(100*round($yes/($no+$yes),2)); ?&gt;px;</span><br><span class="line">      height:20px;&quot; &gt;&lt;/span&gt;</span><br><span class="line">  &lt;?php echo(100*round($yes/($no+$yes),2)); ?&gt;%</span><br><span class="line">  &lt;/td&gt;</span><br><span class="line">  &lt;/tr&gt;</span><br><span class="line">  &lt;tr&gt;</span><br><span class="line">  &lt;td&gt;否:&lt;/td&gt;</span><br><span class="line">  &lt;td&gt;</span><br><span class="line">  &lt;span style=&quot;display: inline-block; background-color:red;</span><br><span class="line">      width:&lt;?php echo(100*round($no/($no+$yes),2)); ?&gt;px;</span><br><span class="line">      height:20px;&quot;&gt;&lt;/span&gt;</span><br><span class="line">  &lt;?php echo(100*round($no/($no+$yes),2)); ?&gt;%</span><br><span class="line">  &lt;/td&gt;</span><br><span class="line">  &lt;/tr&gt;</span><br><span class="line">&lt;/table&gt;</span><br></pre></td></tr></table></figure></p>
<p>当所选的值从 JavaScript 发送到 PHP 文件时，将发生：<br>1.获取 “poll_result.txt” 文件的内容<br>2.把文件内容放入变量，并向被选变量累加 1<br>3.把结果写入 “poll_result.txt” 文件<br>4.输出图形化的投票结果</p>
<p><strong>文本文件</strong><br>文本文件（poll_result.txt）中存储来自投票程序的数据。<br>它存储的数据如下所示：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">3||4</span><br></pre></td></tr></table></figure></p>
<p>第一个数字表示 “Yes” 的投票数，第二个数字表示 “No” 的投票数。<br><strong>注释：</strong>请记得只允许您的 Web 服务器来编辑该文本文件。不要让其他人获得访问权，除了 Web 服务器 (PHP)。</p>
<p><strong>思考</strong><br>注意：这很不安全！攻击者能用简短的代码攻破！<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//无限循环脚本</span><br><span class="line">var Vote = 0;//你的票。</span><br><span class="line">setInterval(function()&#123;</span><br><span class="line">    getVote(Vote);</span><br><span class="line">&#125;,2000);</span><br></pre></td></tr></table></figure></p>
<p>怎样更安全？可以用 Cookies 记录下投票，这样攻击者还需清理 Cookies。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">if(empty($_COOKIE[&quot;voted&quot;])) &#123;</span><br><span class="line">    setcookie(&quot;voted&quot;,&quot;yes!&quot;,ime()+60*60*24*365);</span><br><span class="line">&#125; else &#123;</span><br><span class="line">    die(&quot;您已经投过票！&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

        </div>
        <footer class="article-footer">
            



    <a data-url="http://yoursite.com/2019/02/12/PHP和AJAX/" data-id="cjx2jprc4006pxofvuz2p4mmh" class="article-share-link"><i class="fa fa-share"></i>分享到</a>
<script>
    (function ($) {
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

        </footer>
    </div>
</article>

    <section id="comments">
    
        
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>

    
    </section>



                        </div>
                    </section>
                    <aside id="sidebar">
    <a class="sidebar-toggle" title="Expand Sidebar"><i class="toggle icon"></i></a>
    <div class="sidebar-top">
        <p>关注我 :</p>
        <ul class="social-links">
            
                
                <li>
                    <a class="social-tooltip" title="twitter" href="/" target="_blank" rel="noopener">
                        <i class="icon fa fa-twitter"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="facebook" href="/" target="_blank" rel="noopener">
                        <i class="icon fa fa-facebook"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="google-plus" href="/" target="_blank" rel="noopener">
                        <i class="icon fa fa-google-plus"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="github" href="https://github.com/ppoffice/hexo-theme-hueman" target="_blank" rel="noopener">
                        <i class="icon fa fa-github"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="weibo" href="/" target="_blank" rel="noopener">
                        <i class="icon fa fa-weibo"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="rss" href="/" target="_blank" rel="noopener">
                        <i class="icon fa fa-rss"></i>
                    </a>
                </li>
                
            
        </ul>
    </div>
    
        
<nav id="article-nav">
    
        <a href="/2019/02/12/PHP-Ajax跨域问题最佳解决方案/" id="article-nav-newer" class="article-nav-link-wrap">
        <strong class="article-nav-caption">下一篇</strong>
        <p class="article-nav-title">
        
            PHP-Ajax跨域问题最佳解决方案
        
        </p>
        <i class="icon fa fa-chevron-right" id="icon-chevron-right"></i>
    </a>
    
    
        <a href="/2019/02/12/PHP-XML/" id="article-nav-older" class="article-nav-link-wrap">
        <strong class="article-nav-caption">上一篇</strong>
        <p class="article-nav-title">PHP-XML</p>
        <i class="icon fa fa-chevron-left" id="icon-chevron-left"></i>
        </a>
    
</nav>

    
    <div class="widgets-container">
        
            
                

            
                
    <div class="widget-wrap">
        <h3 class="widget-title">最新文章</h3>
        <div class="widget">
            <ul id="recent-post" class="">
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2019/06/19/简述Servlet使用sendRedirect-和forward-两种方法的异同点/" class="thumbnail">
    
    
        <span style="background-image:url(/2019/06/19/简述Servlet使用sendRedirect-和forward-两种方法的异同点/sendRedirect.png)" alt="简述Servlet使用sendRedirect()和forward()两种方法的异同点" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"></p>
                            <p class="item-title"><a href="/2019/06/19/简述Servlet使用sendRedirect-和forward-两种方法的异同点/" class="title">简述Servlet使用sendRedirect()和forward()两种方法的异同点</a></p>
                            <p class="item-date"><time datetime="2019-06-19T00:54:31.000Z" itemprop="datePublished">2019-06-19</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2019/06/13/jsp父子页面值调用知多少/" class="thumbnail">
    
    
        <span style="background-image:url(/2019/06/13/jsp父子页面值调用知多少/timg.jpg)" alt="jsp父子页面值调用知多少" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"></p>
                            <p class="item-title"><a href="/2019/06/13/jsp父子页面值调用知多少/" class="title">jsp父子页面值调用知多少</a></p>
                            <p class="item-date"><time datetime="2019-06-13T11:35:53.000Z" itemprop="datePublished">2019-06-13</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2019/06/05/Java之JDBC通过加载properties文件来的两种方式来连接数据库/" class="thumbnail">
    
    
        <span style="background-image:url(/2019/06/05/Java之JDBC通过加载properties文件来的两种方式来连接数据库/75711.jpg)" alt="Java之JDBC通过加载properties文件来的两种方式来连接数据库" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"></p>
                            <p class="item-title"><a href="/2019/06/05/Java之JDBC通过加载properties文件来的两种方式来连接数据库/" class="title">Java之JDBC通过加载properties文件来的两种方式来连接数据库</a></p>
                            <p class="item-date"><time datetime="2019-06-05T09:03:45.000Z" itemprop="datePublished">2019-06-05</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2019/05/22/Jquery中-bind-live-delegate和on之间的区别详解/" class="thumbnail">
    
    
        <span style="background-image:url(/2019/05/22/Jquery中-bind-live-delegate和on之间的区别详解/26&amp;gp=0.jpg)" alt="Jquery中.bind,live,delegate和on之间的区别详解" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"></p>
                            <p class="item-title"><a href="/2019/05/22/Jquery中-bind-live-delegate和on之间的区别详解/" class="title">Jquery中.bind,live,delegate和on之间的区别详解</a></p>
                            <p class="item-date"><time datetime="2019-05-22T10:56:44.000Z" itemprop="datePublished">2019-05-22</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2019/05/13/JSP的内置对象/" class="thumbnail">
    
    
        <span style="background-image:url(/2019/05/13/JSP的内置对象/20036.png)" alt="JSP的内置对象" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"></p>
                            <p class="item-title"><a href="/2019/05/13/JSP的内置对象/" class="title">JSP的内置对象</a></p>
                            <p class="item-date"><time datetime="2019-05-13T13:52:29.000Z" itemprop="datePublished">2019-05-13</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">分类</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/遥感/">遥感</a><span class="category-list-count">1</span></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">归档</h3>
        <div class="widget">
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">六月 2019</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">五月 2019</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">四月 2019</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">三月 2019</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">二月 2019</a><span class="archive-list-count">20</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">一月 2019</a><span class="archive-list-count">30</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">十二月 2018</a><span class="archive-list-count">29</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">十一月 2018</a><span class="archive-list-count">15</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">十月 2018</a><span class="archive-list-count">9</span></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">标签</h3>
        <div class="widget">
            <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/JSP/">JSP</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/">Java</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/">JavaScript</a><span class="tag-list-count">15</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Javaweb/">Javaweb</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Jquery/">Jquery</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/">Linux</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PHP/">PHP</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/XML/">XML</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/html/">html</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/">java</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript/">javascript</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript库/">javascript库</a><span class="tag-list-count">18</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/maven/">maven</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node/">node</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/orcal/">orcal</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vue/">vue</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/冷知识/">冷知识</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/前端/">前端</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/心语/">心语</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/技术/">技术</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构与算法/">数据结构与算法</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/舆论/">舆论</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/项目用到/">项目用到</a><span class="tag-list-count">1</span></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-float">
        <h3 class="widget-title">标签云</h3>
        <div class="widget tagcloud">
            <a href="/tags/JSP/" style="font-size: 10px;">JSP</a> <a href="/tags/Java/" style="font-size: 14px;">Java</a> <a href="/tags/JavaScript/" style="font-size: 19px;">JavaScript</a> <a href="/tags/Javaweb/" style="font-size: 10px;">Javaweb</a> <a href="/tags/Jquery/" style="font-size: 10px;">Jquery</a> <a href="/tags/Linux/" style="font-size: 10px;">Linux</a> <a href="/tags/PHP/" style="font-size: 16px;">PHP</a> <a href="/tags/XML/" style="font-size: 11px;">XML</a> <a href="/tags/git/" style="font-size: 11px;">git</a> <a href="/tags/html/" style="font-size: 18px;">html</a> <a href="/tags/java/" style="font-size: 17px;">java</a> <a href="/tags/javascript/" style="font-size: 10px;">javascript</a> <a href="/tags/javascript库/" style="font-size: 20px;">javascript库</a> <a href="/tags/maven/" style="font-size: 15px;">maven</a> <a href="/tags/node/" style="font-size: 11px;">node</a> <a href="/tags/orcal/" style="font-size: 13px;">orcal</a> <a href="/tags/python/" style="font-size: 14px;">python</a> <a href="/tags/vue/" style="font-size: 10px;">vue</a> <a href="/tags/冷知识/" style="font-size: 12px;">冷知识</a> <a href="/tags/前端/" style="font-size: 10px;">前端</a> <a href="/tags/心语/" style="font-size: 12px;">心语</a> <a href="/tags/技术/" style="font-size: 12px;">技术</a> <a href="/tags/数据结构与算法/" style="font-size: 15px;">数据结构与算法</a> <a href="/tags/舆论/" style="font-size: 10px;">舆论</a> <a href="/tags/项目用到/" style="font-size: 10px;">项目用到</a>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">链接</h3>
        <div class="widget">
            <ul>
                
                    <li>
                        <a href="http://hexo.io">Hexo</a>
                    </li>
                
            </ul>
        </div>
    </div>


            
        
    </div>
</aside>

                </div>
            </div>
        </div>
        <footer id="footer">
    <div class="container">
        <div class="container-inner">
            <a id="back-to-top" href="javascript:;"><i class="icon fa fa-angle-up"></i></a>
            <div class="credit">
                <h1 class="logo-wrap">
                    <a href="/" class="logo"></a>
                </h1>
                <p>&copy; 2019 陈义</p>
                <p>Powered by <a href="//hexo.io/" target="_blank">Hexo</a>. Theme by <a href="//github.com/ppoffice" target="_blank">PPOffice</a></p>
            </div>
            <div>
                <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
                本站总访问量 <span id="busuanzi_value_site_pv"></span> 次&nbsp&nbsp&nbsp
                本站访客数<span id="busuanzi_value_site_uv"></span>人次
            </div>
            <div class="footer-plugins">
              
    


            </div>
        </div>
    </div>
</footer>

        
    
    <script>
    var disqus_shortname = 'hexo-theme-hueman';
    
    
    var disqus_url = 'http://yoursite.com/2019/02/12/PHP和AJAX/';
    
    (function() {
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>




    
        <script src="/libs/lightgallery/js/lightgallery.min.js"></script>
        <script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>
        <script src="/libs/lightgallery/js/lg-pager.min.js"></script>
        <script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>
        <script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>
        <script src="/libs/lightgallery/js/lg-zoom.min.js"></script>
        <script src="/libs/lightgallery/js/lg-hash.min.js"></script>
        <script src="/libs/lightgallery/js/lg-share.min.js"></script>
        <script src="/libs/lightgallery/js/lg-video.min.js"></script>
    
    
        <script src="/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>
    
    



<!-- Custom Scripts -->
<script src="/js/main.js"></script>

    </div>
</body>
</html>
